<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    h1{
      text-align: center;
    }
  </style>
  <title>Clientes QuedaZero</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container mt-3">
  <h1>Clientes</h1>       
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Avatar</th>
        <th>Nome</th>
        <th>Email</th>
        <th>Telefone</th>
        <th>Status</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody id="tbody">

    </tbody>
  </table>
</div>

<script>
    const clientes = [
        {avatar: "avatar1.png", nome:"Gabriel", sobrenome:" Silva",email:"gabriel@mail.com",telefone:"(21) 99529-7650",status:"Ativo"},
        {avatar: "avatar3.jpg", nome:"Pablo", sobrenome:" Frazão",email:"pablo@mail.com",telefone:"(21) 96709-3152",status:"Processando"},
        {avatar: "avatar2.png", nome:"Juliana", sobrenome:" Do Nascimento",email:"juliana@mail.com",telefone:"(21) 99981-5834",status:"Inativo"},
    ]
const tbody = document.getElementById('tbody')
    clientes.forEach(function(objeto, indice){
        let tr = document.createElement('tr')

        let imagem = document.createElement('img')
        imagem.src = `imagens/${objeto.avatar}`
        imagem.height = 50
        imagem.alt = "avatar"

        let td0 = document.createElement('td')
        td0.append(imagem)
        tr.append(td0)

    

        let td1 = document.createElement('td')
        td1.innerText = objeto.nome + objeto.sobrenome
        tr.append(td1)
        //segunda coluna
        let td2 = document.createElement('td')
        td2.innerText = objeto.email
        tr.append(td2)
        //terceira coluna
        let td3 = document.createElement('td')
        td3.innerText = objeto.telefone
        tr.append(td3)
        //quarta coluna
        let td4 = document.createElement('td')
        td4.innerText = objeto.status
        tr.append(td4)
        //botão Editar
        let td5 = document.createElement('td')
        let btn = document.createElement('button')
        btn.innerText = "Editar"
        btn.className = "btn btn-primary dropdown-toggle"
        btn.setAttribute("data-bs-toggle", "dropdown")
        td5.append(btn)

        let dropdownMenu = document.createElement('ul')
        dropdownMenu.className = "dropdown-menu"
        dropdownMenu.setAttribute("aria-labelledby", "dropdownMenuButton")
        tr.append(td5)

        let statusOptions = ["Ativo", "Inativo", "Processando"];

        statusOptions.forEach(function(statusOption) {
            let dropdownItem = document.createElement('li')
            let dropdownLink = document.createElement('a')
            dropdownLink.className = "dropdown-item"
            dropdownLink.innerText = statusOption
            dropdownLink.addEventListener('click', function() {
                objeto.status = statusOption;
                td4.innerText = statusOption;
            });
            dropdownItem.appendChild(dropdownLink);
            dropdownMenu.appendChild(dropdownItem);
        });

        td5.appendChild(dropdownMenu);
        //botão Remover
        td5.append(btn)
        let btn1 = document.createElement('button')
        btn1.innerText = "Remover"
        btn1.className = "btn btn-danger ms-1"
        btn1.addEventListener('click', function() {
            tr.remove();})
        td5.append(btn1)
        tr.append(td5)


        tbody.append(tr)

    })  
</script>

</body>
</html>
